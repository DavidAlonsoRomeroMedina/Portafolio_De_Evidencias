<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Ecuaciones Algebraicas - David Romero</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
    :root {
        --primary-color: #B4141E; /* El rojo que pediste */
        --primary-dark: #8a0f16;
        
        /* Nuevo fondo: Tono de rojo profundo/vino para que combine */
        --page-bg: #750d13; 
        
        /* Tarjeta blanca para quitar lo "oscuro" */
        --card-bg: #ffffff;
        --text-color: #333333;
        --text-muted: #666666;
        --border-color: #e5e5e5;
        --input-bg: #f8f9fa;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Inter', sans-serif;
        background-color: var(--page-bg); /* Fondo rojo solicitado */
        background-image: linear-gradient(135deg, #5e0a0f 0%, #8e1a24 100%); /* Gradiente sutil */
        color: var(--text-color);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 40px 20px;
    }

    .main-wrapper {
        width: 100%;
        max-width: 1000px;
        background-color: var(--card-bg);
        border-radius: 12px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        overflow: hidden;
    }

    /* HEADER */
    .header-section {
        padding: 35px 40px;
        border-bottom: 2px solid var(--primary-color);
        background-color: #fff5f5; /* Un rojo muy pálido para el header */
    }

    h1 {
        font-size: 1.8rem;
        font-weight: 800;
        color: var(--primary-color);
        letter-spacing: -0.5px;
    }

    /* CONTENEDOR DE PANELES (GRID) */
    .panels-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
        padding: 40px;
    }

    .panel {
        display: flex;
        flex-direction: column;
    }

    label {
        font-size: 0.85rem;
        font-weight: 700;
        color: var(--text-color);
        margin-bottom: 12px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        display: flex;
        align-items: center;
    }

    /* Decoración al lado del label */
    label::before {
        content: "";
        width: 6px;
        height: 20px;
        background: var(--primary-color);
        margin-right: 10px;
        border-radius: 2px;
    }

    textarea {
        width: 100%;
        flex-grow: 1;
        min-height: 250px;
        background-color: var(--input-bg);
        border: 2px solid var(--border-color);
        border-radius: 8px;
        color: #222; /* Texto oscuro */
        font-family: 'Consolas', 'Monaco', monospace;
        font-size: 1rem;
        padding: 15px;
        resize: vertical;
        transition: all 0.2s;
    }

    textarea:focus {
        outline: none;
        border-color: var(--primary-color);
        background-color: #fff;
        box-shadow: 0 4px 12px rgba(180, 20, 30, 0.1);
    }

    textarea::placeholder {
        color: #aaa;
    }

    /* SECCIÓN DE ACCIÓN Y RESULTADO */
    .bottom-section {
        padding: 0 40px 40px 40px;
    }

    .calculate-button {
        width: 100%;
        background-color: var(--primary-color);
        color: white;
        font-size: 1.1rem;
        font-weight: 600;
        padding: 18px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: transform 0.2s, background-color 0.2s;
        box-shadow: 0 4px 6px rgba(180, 20, 30, 0.3);
    }

    .calculate-button:hover {
        background-color: var(--primary-dark);
        transform: translateY(-2px);
    }

    .result-container {
        background-color: #fff;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        padding: 25px;
        margin-top: 30px;
        border-left: 5px solid var(--primary-color);
    }

    .result-container h3 {
        font-size: 0.9rem;
        color: var(--text-muted);
        margin-bottom: 10px;
        font-weight: 600;
        text-transform: uppercase;
    }

    .result-content {
        font-family: 'Consolas', monospace;
        font-size: 1.2rem;
        line-height: 1.6;
        color: #000;
        white-space: pre-wrap;
    }

    /* Estados del resultado */
    .result-error { color: #d32f2f; border-left-color: #d32f2f; }
    .result-warning { color: #f57c00; border-left-color: #f57c00; }

    /* FOOTER */
    footer {
        padding: 20px;
        background-color: #fff;
        text-align: center;
        border-top: 1px solid var(--border-color);
    }

    footer p {
        font-size: 0.85rem;
        color: var(--text-muted);
        line-height: 1.6;
    }

    footer strong {
        color: var(--primary-color);
        font-weight: 700;
    }

    /* RESPONSIVE */
    @media (max-width: 768px) {
        .panels-container {
            grid-template-columns: 1fr;
            padding: 20px;
            gap: 20px;
        }
        .header-section, .bottom-section {
            padding: 25px 20px;
        }
        h1 { font-size: 1.5rem; }
    }
</style>
</head>

<body>

    <div class="main-wrapper">
        
        <div class="header-section">
            <h1>Calculadora de Variables y Ecuaciones</h1>
        </div>

        <div class="panels-container">
            <div class="panel">
                <label for="variables">Variables</label>
                <textarea id="variables" placeholder="Ejemplo: w1 = 1, w2 = 2, w3 = 3"></textarea>
            </div>

            <div class="panel">
                <label for="equations">Ecuaciones</label>
                <textarea id="equations" placeholder="Ejemplo: total = w1 * w2 + w3"></textarea>
            </div>
        </div>

        <div class="bottom-section">
            <button id="calculate-btn" class="calculate-button">Calcular Resultado</button>

            <div class="result-container">
                <h3>Resultado:</h3>
                <div id="result" class="result-content">Ingresa las variables y ecuaciones para ver el resultado</div>
            </div>
        </div>

        <footer>
            <p>⚇ Tecnológico de Software ⚇ Fundamentos de Álgebra <br>
               ⚇ Jorge Javier Pedroza Romero ⚇ <strong>David Romero</strong> ⚇ Grupo: 1C
            </p>
        </footer>

    </div>

<script>
/* ========================= */
/* LÓGICA ORIGINAL INTACTA   */
/* ========================= */

class Calculator {
    constructor() {
        this.variablesInput = document.getElementById('variables');
        this.equationsInput = document.getElementById('equations');
        this.calculateButton = document.getElementById('calculate-btn');
        this.resultDiv = document.getElementById('result');
        this.init();
    }

    init() {
        this.calculateButton.addEventListener('click', () => this.calculate());
    }

    parseVariables(text) {
        const variables = {};
        const lines = text.split('\n').filter(l => l.trim());
        for (const line of lines) {
            const parts = line.split(',');
            for (const part of parts) {
                const match = part.trim().match(/^(\w+)\s*=\s*(.+)$/);
                if (match) {
                    const [, name, val] = match;
                    variables[name] = this.evaluateExpression(val, variables);
                }
            }
        }
        return variables;
    }

    evaluateExpression(expr, vars) {
        if (!/^[a-zA-Z0-9+\-*/().\s^]+$/.test(expr))
            throw new Error("Expresión inválida");

        let exp = expr.replace(/\^/g, "**");
        for (const v of Object.keys(vars).sort((a,b)=>b.length-a.length)) {
            exp = exp.replace(new RegExp(`\\b${v}\\b`, "g"), vars[v]);
        }

        if (/[a-zA-Z]/.test(exp))
            throw new Error("Variable no definida");

        const result = Function(`"use strict"; return (${exp})`)();
        if (!isFinite(result)) throw new Error("Operación inválida");
        return result;
    }

    calculate() {
        try {
            const vars = this.parseVariables(this.variablesInput.value);
            const equations = this.equationsInput.value.split('\n').filter(l => l.trim());
            const results = [];

            for (const eq of equations) {
                const match = eq.match(/^(\w+)\s*=\s*(.+)$/);
                if (match) {
                    const [, name, exp] = match;
                    results.push(`${name} = ${this.evaluateExpression(exp, vars)}`);
                }
            }

            this.showResult(results.join('\n') || "No hay ecuaciones válidas");
        } catch (err) {
            this.showResult("Error: " + err.message, "error");
        }
    }

    showResult(msg, type = "success") {
        this.resultDiv.textContent = msg;
        this.resultDiv.classList.remove("result-error", "result-warning");
        if (type !== "success") this.resultDiv.classList.add(`result-${type}`);
    }
}

document.addEventListener("DOMContentLoaded", () => new Calculator());
</script>

</body>
</html>